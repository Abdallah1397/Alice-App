if (self.CavalryLogger) { CavalryLogger.start_js(["ejxfbWW"]); }

__d("useCometPageComposerTrigger",["CometComposerAttachmentPluginTypes","JSResourceForInteraction","react","useCometInteractionTracing","useCometPageComposerDialog","useResumableComposerViewState","useVideoComposerDialog"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g||b("react"),i=b("JSResourceForInteraction")("PagesCometComposerDialog.react").__setRef("useCometPageComposerTrigger");function a(a,c,d,e,f,g){var j=b("useResumableComposerViewState")(a),k=j.clearResumableViewState,l=j.getResumableViewState,m=j.saveResumableViewState;j=h.useCallback(function(a){m(a)},[m]);var n=h.useCallback(function(){f!=null&&f(),k()},[k,f]),o=b("useVideoComposerDialog")({composerEntryPointRef:e,targetID:c}),p=h.useMemo(function(){return{launchBlueVideoComposer:o,shouldOpenVideoSpecificComposer:!0,targetID:c}},[o,c]);a=b("useCometPageComposerDialog")({actorID:a,composerEntryPointRef:e,composerType:"page",onBeforeClose:j,onSave:n,pageID:c,title:d});var q=a[0];j=a[1];var r=b("useCometInteractionTracing")(30605333,"responsive","INTERACTION");n=h.useCallback(function(a){var c,d=(c=a==null?void 0:a.beginningViewState)!=null?c:l();g!=null&&(d=babelHelpers["extends"]({},d,{placeholderTextOverride:g}));e==="pages_social_learning"&&(d=babelHelpers["extends"]({},d,{socialLearningModule:{moduleName:"",unitID:null}}));d=babelHelpers["extends"]({},d,{videoComposerData:p});(a==null?void 0:a.messagingTaggerVisibleOnLoad)===!0&&(d=babelHelpers["extends"]({},d,{attachmentArea:babelHelpers["extends"]({},d.attachmentArea,{activeAttachmentType:b("CometComposerAttachmentPluginTypes").GET_MESSAGES}),isGetMessagesPost:!0}));var f=i.getModuleIfRequireable()!=null;r(function(b){b.onComplete(function(a){f&&b.addMetadata("revisit",1)}),q({askMeAnythingVisibleOnLoad:a==null?void 0:a.askMeAnythingVisibleOnLoad,beginningViewState:d,feelingTaggerVisibleOnLoad:a==null?void 0:a.feelingTaggerVisibleOnLoad,friendTaggerVisibleOnLoad:a==null?void 0:a.friendTaggerVisibleOnLoad,localAlertTaggerVisibleOnLoad:a==null?void 0:a.localAlertTaggerVisibleOnLoad,locationTaggerVisibleOnLoad:a==null?void 0:a.locationTaggerVisibleOnLoad,productTaggerVisibleOnLoad:a==null?void 0:a.productTaggerVisibleOnLoad,votingAlertTaggerVisibleOnLoad:a==null?void 0:a.votingAlertTaggerVisibleOnLoad})})},[l,g,e,p,r,q]);return[n,j]}}),null);
__d("useCometPageInlineComposer",["fbt","CometRouteParams","react","useCometPageComposerTrigger"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=h||b("react");function a(a){var c=a.actorID,d=a.composerEntryPointRef,e=a.onSave,f=a.pageID;a=a.placeholderTextOverride;var h=g._("Create Post");c=b("useCometPageComposerTrigger")(c,f,h,d,e,a);var j=c[0];h=c[1];d=b("CometRouteParams").useRouteParams();var k=i.useRef(null),l=String(d==null?void 0:d.modal);i.useEffect(function(){if(k.current===f)return;l!=="null"&&(k.current=f);l==="media_composer"||l==="composer"?i.startTransition(function(){return j()}):l==="local_alerts_onboarding"?i.startTransition(function(){return j({localAlertTaggerVisibleOnLoad:!0})}):l==="voting_alerts_onboarding"?i.startTransition(function(){return j({votingAlertTaggerVisibleOnLoad:!0})}):l==="product_tagging"&&i.startTransition(function(){return j({productTaggerVisibleOnLoad:!0})})});return[j,h]}}),null);